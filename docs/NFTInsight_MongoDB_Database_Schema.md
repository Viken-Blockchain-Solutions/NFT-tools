# **NFTInsight MongoDB Database Schema**

## Document Description

This document presents the MongoDB database schema for the NFTInsight application. The schema describes eight collections within the database, each serving a specific functionality of the application. These collections include:

1. **User**: For storing user information such as email, username, and associated NFT collections.
2. **NFT_Collection**: Stores specific data about each NFT collection added by the users.
3. **Primary_Sales**: Holds records of all primary sales associated with each NFT collection.
4. **Secondary_Sales**: Holds records of all secondary sales associated with each NFT collection.
5. **NFT_Sale**: Captures details of individual NFT sales.
6. **Royalty**: Keeps track of royalty information, including the receiver and percentage, for each NFT collection.
7. **SafelistRequestStatus**: Logs the safelist request status of each NFT collection.
8. **Ingestion History**: Logs ingestion history data for each NFT collection.

This database structure is designed to facilitate efficient data storage and retrieval, making it an integral part of the functionality of the NFTInsight application. The following sections describe the schema in detail.

<hr />

### **1. User Collection**

Fields:

- **_id** (ObjectId): Unique identifier for the user (automatically generated by MongoDB).
- **email** (String): The email address of the user.
- **username** (String): The username of the user.
- **nftCollections** (Array of ObjectId): Array of NFT_Collection documents the user has added.

---

### **2. NFT_Collection Collection**

Fields:

- **_id** (ObjectId): Unique identifier for the NFT Collection.
- **contractAddress** (String): Contract address of the NFT Collection.
- **deployer** (String): The address of the deployer of the contract.
- **deployed_blocknumber** (Number): Block number when the contract was deployed.
- **name** (String): Name of the NFT Collection.
- **symbol** (String): Symbol of the NFT Collection.
- **totalSupply** (Number): Total supply of the NFTs in the Collection.
- **floorPrice** (Number): The lowest price for an NFT in the Collection.
- **safelistRequestStatus** (ObjectId): Reference to the SafelistRequestStatus document associated with this NFT Collection.
- **ingestionHistory** (Array of ObjectId): Array of Ingestion History documents associated with this NFT Collection.

---

### **3. Primary_Sales Collection**

Fields:

- **_id** (ObjectId): Unique identifier for the primary sale.
- **nftCollectionId** (ObjectId): Reference to the NFT_Collection document this sale belongs to.
- **sales** (Array of ObjectId): Array of NFT_Sale documents representing primary sales.

---

### **4. Secondary_Sales Collection**

Fields:

- **_id** (ObjectId): Unique identifier for the secondary sale.
- **nftCollectionId** (ObjectId): Reference to the NFT_Collection document this sale belongs to.
- **sales** (Array of ObjectId): Array of NFT_Sale documents representing secondary sales.

---

### **5. NFT_Sale Collection**

Fields:

- **_id** (ObjectId): Unique identifier for the NFT Sale.
- **buyer** (String): The address of the buyer.
- **tokensPurchased** (Number): Number of tokens purchased.
- **totalSpent** (Number): Total amount spent.
- **transactionHash** (String): Transaction hash of the purchase.
- **blockNumber** (Number): Block number when the transaction occurred.

---

### **6. Royalty Collection**

Fields:

- **_id** (ObjectId): Unique identifier for the royalty info.
- **receiver** (String): The address of the royalty receiver.
- **percentage** (Number): Royalty percentage.
- **nftCollectionId** (ObjectId): Reference to the NFT_Collection document this royalty info belongs to.

---

### **7. SafelistRequestStatus Collection**

Fields:

- **_id** (ObjectId): Unique identifier for the safelist request status.
- **status** (String): Status of the safelist request (Requested/Not Requested).
- **nftCollectionId** (ObjectId): Reference to the NFT_Collection document this safelist request status belongs to.

---

### **8. Ingestion History Collection**

Fields:

- **_id** (ObjectId): Unique identifier for the ingestion history.
- **timestamp** (Date): Time when the data was ingested.
- **nftCollectionId** (ObjectId):

 Reference to the NFT_Collection document this ingestion history belongs to.

---
